è°¢è°¢ä½ ï¼Œæˆ‘å·²ç»æ”¶åˆ°äº†ä½ çš„é…ç½®æ–‡ä»¶ã€‚ğŸ˜Š
https://$DOMAIN:$PORT {
    root * /usr/share/caddy
    file_server browse

    header {
        X-Robots-Tag none
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        Referrer-Policy no-referrer-when-downgrade
    }

    basicauth /$AUUID/* {
        $AUUID $MYUUID-HASH
    }

    tls /etc/caddy/cert.pem /etc/caddy/key.pem

    @websocket_xray_vmess {
        header Connection *Upgrade*
        header Upgrade websocket
        path /$AUUID-vmess
    }
    reverse_proxy @websocket_xray_vmess h2c://unix//etc/caddy/vmess


    @websocket_xray_vless {
        header Connection *Upgrade*
        header Upgrade websocket
        path /$AUUID-vless
    }
    reverse_proxy @websocket_xray_vless h2c://unix//etc/caddy/vless

    @websocket_xray_trojan {
        header Connection *Upgrade*
        header Upgrade websocket
        path /$AUUID-trojan
    }
    reverse_proxy @websocket_xray_trojan h2c://unix//etc/caddy/trojan

    @websocket_xray_ss {
        header Connection *Upgrade*
        header Upgrade websocket
        path /$AUUID-ss
    }
    reverse_proxy @websocket_xray_ss http://127.0.0.1:4234

    @websocket_xray_socks {
        header Connection *Upgrade*
        header Upgrade websocket
        path /$AUUID-socks
    }
}
